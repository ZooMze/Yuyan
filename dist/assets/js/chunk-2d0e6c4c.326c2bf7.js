(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e6c4c"],{"99c9":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"default-container"},[n("h2",[e._v("保持 KeepAlive")]),n("p",[e._v("用户在从列表页进入详情页后 , 再返回到列表页 , 期望的是列表页的状态和内容等都完整的保留( keepAlive ) , 本框架也约定了此功能")]),e._m(0),n("h3",[e._v("内容保留")]),e._m(1),n("pre",[e._v(" "+e._s(e.keep)+" ")]),e._m(2),n("el-form",{ref:"form",staticClass:"margin-tb-15",attrs:{model:e.form,"label-suffix":"：",size:"small"}},[n("el-form-item",{attrs:{label:"输入框"}},[n("el-input",{attrs:{placeholder:"请输入"},model:{value:e.form.input,callback:function(t){e.$set(e.form,"input",t)},expression:"form.input"}})],1)],1),n("p",[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.$router.push({name:"keepAliveInner"})}}},[e._v(" 进入子页面 ")])],1),e._m(3),n("h3",[e._v("分页保留")]),n("p",[e._v("分页不同于普通的组件数据 , 其存放信息是在 "),n("code",[e._v(" Vuex ")]),e._v(" 中, 本框架约定 : 在router变化时 , "),n("code",[e._v("$store.state.pagination")]),e._v(" 的值将被还原为初始 , 但为了保证keepAlive时 , 分页数据不被清空 , 进行了如下限制 , 可参考 "),n("el-button",{attrs:{type:"text"},on:{click:function(e){}}},[e._v("路由 Router")])],1),n("pre",[e._v(e._s(e.code))]),n("p",[e._v("当前是第 "+e._s(e.$store.state.pagination.pageNum)+" 页 , 进入子页面后再返回 , 不会被还原 , 其余情况的router变化时 , 将被还原为第 1 页")]),n("div",{staticClass:"margin-tb-15"},[n("el-pagination",{attrs:{"current-page":e.$store.state.pagination.pageNum,"page-sizes":[20,40,80,100],"page-size":20,layout:"total, sizes, prev, pager, next, jumper",total:200,background:""},on:{"current-change":e.pageNumChange}})],1),n("p",[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.$router.push({name:"keepAliveInner"})}}},[e._v(" 进入子页面 ")])],1)],1)},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("实现方式为 "),n("a",{attrs:{href:"https://router.vuejs.org/zh/api/#router-view"}},[e._v("Vue Router")]),e._v(" 的 "),n("code",[e._v("Keep-alive")]),e._v(" , 详情请参考文档")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("本例展示了 "),n("code",[e._v("Keep-alive")]),e._v(" 的使用效果 , 跳转至子级页面 , 以及子级页面的导航重定向")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("在 "),n("code",[e._v("input")]),e._v(" 输入框中输入内容后 , 点击上方按钮进入子页面 , 然后回到本页面 , 查看效果")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tip-area"},[n("p",[e._v("尽管 "),n("code",[e._v("keep-alive")]),e._v(" 可以实现保持的功能 , 但如果用户在子页面强制刷新了整个网页 , 那么 "),n("code",[e._v("keep-alive")]),e._v(" 将失效")])])}],o={data:function(){return{keep:"// Index.vue\n<keep-alive>\n  <router-view></router-view>\n</keep-alive>",code:"// App.vue\nwatch: {\n  \"$route\": {\n    handler (to, from) {\n      // 在导航跳转时还原分页\n      if(to.meta.routerName && from.meta.routerName) {\n        this.$store.commit('changePage', 1)\n      }\n    }\n  }\n}",form:{input:""}}},mounted:function(){console.log(this.$store.state.pagination.pageNum)},methods:{pageNumChange:function(e){this.$store.commit("changePage",e),this.$message("当前点击了第 ".concat(e," 页"))}}},i=o,s=n("6691"),u=Object(s["a"])(i,r,a,!1,null,null,null);t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d0e6c4c.326c2bf7.js.map